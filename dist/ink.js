!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("commonjs2"));else if("function"==typeof define&&define.amd)define(["commonjs2"],e);else{var n=e("object"==typeof exports?require("commonjs2"):t.commonjs2);for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var o=n(1),r=n(6),i=n(2),s=n(7),a=n(9),u=n(8),c=o.PropTypes,p=0,f=o.createClass({displayName:"Ink",mixins:[s],propTypes:{background:c.bool,duration:u(0),opacity:a(0,1),radius:u(0),recenter:c.bool},getDefaultProps:function(){return{background:!0,duration:1500,opacity:.2,radius:150,recenter:!0}},getInitialState:function(){return{store:r()}},tick:function(){this.forceUpdate()},componentDidMount:function(){this.state.store.subscribe(this.tick)},componentWillUnmount:function(){this.state.store.dispose()},pushBlot:function(t){var e=this.getDOMNode().getBoundingClientRect(),n=e.bottom-e.top,o=e.right-e.left;this.state.store.add({duration:this.props.duration,maxOpacity:this.props.opacity,mouseDown:i(),mouseUp:0,radius:Math.min(this.props.radius,Math.max(n,o)),recenter:this.props.recenter,x:t.clientX-e.left,y:t.clientY-e.top,size:Math.max(n,o),height:n,width:o})},popBlot:function(){this.state.store.release(i())},makeBlot:function(t,e){return o.createElement("circle",{key:e,r:t.radius,opacity:t.opacity,transform:t.transform})},getBackdrop:function(){var t=this.props.background?this.state.store.getTotalOpacity():0;return o.createElement("rect",{width:"100%",height:"100%",opacity:t})},render:function(){return o.createElement("svg",{className:"ink",style:{color:this.props.color},onTouchStart:this._onPress,onTouchEnd:this._onRelease,onTouchCancel:this._onRelease,onTouchLeave:this._onRelease,onMouseDown:this._onPress,onMouseUp:this._onRelease,onMouseLeave:this._onRelease},this.getBackdrop(),this.state.store.map(this.makeBlot))},_onPress:function(t){var e=t,n=e.button,o=e.ctrlKey,r=e.touches;if(r)for(var i=0;i<r.length;i++)this.pushBlot(r[i]);else n!==p||o||this.pushBlot(t)},_onRelease:function(){this.popBlot()}});t.exports=f},function(e){e.exports=t},function(t){var e=Date.now||function(){return+new Date};"undefined"!=typeof performance&&performance.now&&(e=performance.now.bind(performance)),t.exports=e},function(t,e,n){(function(e){"use strict";var n=function(t,n,o,r,i,s,a,u){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[o,r,i,s,a,u],f=0;c=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return p[f++]}))}throw c.framesToPop=1,c}};t.exports=n}).call(e,n(11))},function(t){t.exports={easeOutSin:function(t,e,n,o){return n*Math.sin(t/o*(Math.PI/2))+e},easeOutQuint:function(t,e,n,o){return n*((t=t/o-1)*t*t*t*t+1)+e}}},function(t,e,n){var o=n(4).easeOutQuint,r=n(2),i=Math,s=(i.max,i.min),a=Math.sqrt(2),u={getPress:function(t){return s(t.duration,r()-t.mouseDown)},getRelease:function(t){return t.mouseUp>0?r()-t.mouseUp:0},getBlotRadius:function(t){var e=.85*o(u.getPress(t),0,t.radius,t.duration),n=.15*o(u.getRelease(t),0,t.radius,t.duration);return e+n},getBlotOpacity:function(t){return o(u.getRelease(t),t.maxOpacity,-t.maxOpacity,t.duration)},getBlotOuterOpacity:function(t){return s(o(u.getPress(t),0,.3,3*t.duration),u.getBlotOpacity(t))},getBlotTransform:function(t){var e=t,n=(e.duration,e.recenter),o=e.x,r=e.y,i=e.size,c=e.width,p=e.height,f=o,d=r;if(n){var l=s(1,u.getBlotRadius(t)/i*2/a);f+=l*(c/2-o),d+=l*(p/2-r)}var h=(u.getBlotRadius(t)/t.radius).toFixed(3);return"translate("+f.toFixed(3)+","+d.toFixed(3)+") scale("+h+", "+h+") "}};t.exports=u},function(t,e,n){var o=n(5),r=n(3);t.exports=function(){var t,e=[],n=[],i=!1,s={dispose:function(){e.length=0,s.stop()},publicize:function(){for(var t=0,n=e.length;n>t;t++)e[t]()},subscribe:function(t){r("function"==typeof t,"Ink.Store subscribe method expects a callback function"),e.push(t)},unsubscribe:function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},forEach:function(t,e){return n.forEach(t,e)},map:function(t,e){return n.map(t,e)},play:function(){i||(i=!0,s.update())},stop:function(){i=!1,cancelAnimationFrame(t)},getTotalOpacity:function(){for(var t=0,e=0,o=n.length;o>e;e++)t+=n[e].outerOpacity;return t},update:function(){for(var e=0,r=n.length;r>e;e++)n[e].opacity=o.getBlotOpacity(n[e]),n[e].outerOpacity=o.getBlotOuterOpacity(n[e]),n[e].transform=o.getBlotTransform(n[e]);s.prune(),s.publicize(),n.length?t=requestAnimationFrame(s.update):s.stop()},prune:function(){for(var t=0;t<n.length;)n[t].opacity<=.01?n.splice(t,1):t++},add:function(t){n.push(t),s.play()},release:function(t){for(var e=0,o=n.length;o>e;e++)n[e].mouseUp=n[e].mouseUp||t;s.play()}};return s}},function(t,e,n){"use strict";var o=n(10),r={shouldComponentUpdate:function(t,e){return!o(this.props,t)||!o(this.state,e)}};t.exports=r},function(t,e,n){var o=n(1).PropTypes;t.exports=function(t){return function(e,n,r){if(!e||n in e!=!1){var i=o.number(e,n,r);if(i)return i;var s=e[n];return t>s?new RangeError("Invalid `"+n+"` value given to component `"+r+"`. Expected >= "+t+" , instead got "+s+"."):void 0}}}},function(t,e,n){var o=n(1).PropTypes,r=n(3);t.exports=function(t,e){return r(e>t,"Lower limit of type `inRange` must be greater than upper limit"),function(n,r,i){if(!n||r in n!=!1){var s=o.number(n,r,i);if(s)return s;var a=n[r];return t>a||a>e?new RangeError("Invalid `"+r+"` value given to component `"+i+"`. Expected between "+t+" and "+e+", instead got "+a+"."):void 0}}}},function(t){"use strict";function e(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}t.exports=e},function(t){function e(){}var n=t.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var o=[];if(e){var r=document.createElement("div"),i=new MutationObserver(function(){var t=o.slice();o.length=0,t.forEach(function(t){t()})});return i.observe(r,{attributes:!0}),function(t){o.length||r.setAttribute("yes","no"),o.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),o.length>0)){var n=o.shift();n()}},!0),function(t){o.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=e,n.addListener=e,n.once=e,n.off=e,n.removeListener=e,n.removeAllListeners=e,n.emit=e,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}}])});